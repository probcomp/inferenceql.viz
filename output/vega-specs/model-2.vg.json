{"legends":[],"width":700,"scales":[{"name":"color","type":"ordinal","domain":["depends on","imported by"],"range":[{"signal":"colorIn"},{"signal":"colorOut"}]}],"padding":10,"marks":[{"type":"text","interactive":true,"from":{"data":"leaves"},"encode":{"enter":{"text":{"field":"name"},"baseline":{"value":"middle"}},"update":{"y":{"field":"y"},"align":{"signal":"datum.leftside ? 'right' : 'left'"},"dx":{"signal":"textOffset * (datum.leftside ? -1 : 1)"},"limit":{"value":140},"fill":[{"test":"datum.id === active","value":"black"},{"test":"indata('selected', 'source-id', datum.id)","signal":"colorIn"},{"test":"indata('selected', 'target-id', datum.id)","signal":"colorOut"},{"test":"datum.status == 'infected'","value":"orange"},{"test":"datum.status == 'source'","value":"red"},{"value":"black"}],"angle":{"signal":"datum.leftside ? datum.angle - 180 : datum.angle"},"fontWeight":[{"test":"indata('selected', 'source-id', datum.id)","value":"bold"},{"test":"indata('selected', 'target-id', datum.id)","value":"bold"},{"value":null}],"x":{"field":"x"},"fontSize":{"signal":"textSize"}}}},{"type":"group","from":{"facet":{"name":"path","data":"dependencies","field":"treepath"}},"signals":[{"name":"edgeClicked","push":"outer","on":[{"events":"line:click","update":"parent"}]}],"marks":[{"type":"line","interactive":true,"from":{"data":"path"},"encode":{"enter":{"interpolate":{"value":"bundle"},"strokeWidth":{"value":3}},"update":{"stroke":[{"test":"parent['source-id'] === activeSource || parent['target-id'] === activeTarget","signal":"colorOut"},{"test":"parent['infected']","value":"red"},{"value":"steelblue"}],"strokeOpacity":[{"test":"parent['source-id'] === activeSource || parent['target-id'] === activeTarget","value":0.5},{"value":0.2}],"tension":{"signal":"tension"},"x":{"field":"x"},"y":{"field":"y"}}}}]}],"$schema":"https:\/\/vega.github.io\/schema\/vega\/v5.json","signals":[{"name":"tension","value":0.33},{"name":"radius","value":200},{"name":"extent","value":360},{"name":"rotate","value":0},{"name":"textSize","value":12},{"name":"textOffset","value":2},{"name":"layout","value":"cluster"},{"name":"colorIn","value":"firebrick"},{"name":"colorOut","value":"firebrick"},{"name":"originX","update":"width \/ 2"},{"name":"originY","update":"height \/ 2"},{"name":"active","value":null,"on":[{"events":"text:mouseover","update":"datum.id"},{"events":"mouseover[!event.item]","update":"null"}]},{"name":"activeSource","value":null,"update":"active"},{"name":"activeTarget","value":null,"update":"active"},{"name":"edgeClicked"},{"name":"edgeThreshold"},{"name":"confidenceThreshold"}],"height":500,"data":[{"name":"tree","values":[{"name":"root","id":-1,"alpha":0.5,"beta":0},{"name":"a","id":1,"parent":-1,"alpha":0.041666666666666664,"beta":1,"status":null},{"name":"b","id":2,"parent":-1,"alpha":0.125,"beta":1,"status":null},{"name":"c","id":3,"parent":-1,"alpha":0.20833333333333331,"beta":1,"status":null},{"name":"d","id":4,"parent":-1,"alpha":0.29166666666666663,"beta":1,"status":null},{"name":"e","id":5,"parent":-1,"alpha":0.375,"beta":1,"status":null},{"name":"f","id":6,"parent":-1,"alpha":0.4583333333333333,"beta":1,"status":null},{"name":"g","id":7,"parent":-1,"alpha":0.5416666666666666,"beta":1,"status":null},{"name":"h","id":8,"parent":-1,"alpha":0.625,"beta":1,"status":null},{"name":"i","id":9,"parent":-1,"alpha":0.7083333333333333,"beta":1,"status":null},{"name":"j","id":10,"parent":-1,"alpha":0.7916666666666666,"beta":1,"status":null},{"name":"l","id":11,"parent":-1,"alpha":0.875,"beta":1,"status":null},{"name":"m","id":12,"parent":-1,"alpha":0.9583333333333333,"beta":1,"status":null}],"transform":[{"type":"stratify","key":"id","parentKey":"parent"},{"type":"tree","method":{"signal":"layout"},"size":[1,1],"as":["alpha-ignore","beta-ignore","depth","children"]},{"type":"formula","expr":"(rotate + extent * datum.alpha + 270) % 360","as":"angle"},{"type":"formula","expr":"inrange(datum.angle, [90, 270])","as":"leftside"},{"type":"formula","expr":"originX + radius * datum.beta * cos(PI * datum.angle \/ 180)","as":"x"},{"type":"formula","expr":"originY + radius * datum.beta * sin(PI * datum.angle \/ 180)","as":"y"}]},{"name":"leaves","source":"tree","transform":[{"type":"filter","expr":"!datum.children"}]},{"name":"dependencies","values":[{"source-id":2,"target-id":1,"source-name":"b","target-name":"a","edge-val":null,"edge-present":true,"infected":null},{"source-id":12,"target-id":7,"source-name":"m","target-name":"g","edge-val":null,"edge-present":true,"infected":null}],"transform":[{"type":"formula","expr":"treePath('tree', datum['source-id'], datum['target-id'])","as":"treepath","initonly":true}]},{"name":"selected","source":"dependencies","transform":[{"type":"filter","expr":"datum['source-id'] === activeSource || datum['target-id'] === activeTarget"}]}]}